---
// PLANTILLA PARA CREAR P√ÅGINAS DE SEO LOCAL POR CIUDAD
// Copia este archivo y ren√≥mbralo seg√∫n el patr√≥n: menu-digital-restaurantes-[ciudad].astro
// Por ejemplo: menu-digital-restaurantes-santiago.astro

import SeoLayout from "../layouts/SeoLayout.astro";
import Hero from "../components/sections/Hero.astro";
import Problems from "../components/sections/Problems.astro";
import HowItWorks from "../components/sections/HowItWorks.astro";
import Benefits from "../components/sections/Benefits.astro";
import CTA from "../components/sections/CTA.astro";
import FadeIn from "../components/ui/FadeIn.astro";

import { 
  getCityData, 
  generateLocalBusinessSchema,
  generateBreadcrumbSchema 
} from "../data/cities";

// üëá PASO 1: Cambia el slug de la ciudad aqu√≠
const CITY_SLUG = "valdivia"; // Ej: "santiago", "concepcion", etc.

const cityData = getCityData(CITY_SLUG);
if (!cityData) {
  return Astro.redirect("/404");
}

const pageUrl = `https://menupro.cl/menu-digital-restaurantes-${cityData.slug}`;

// Schema.org para SEO local
const schemas = {
  "@context": "https://schema.org",
  "@graph": [
    generateLocalBusinessSchema(cityData),
    generateBreadcrumbSchema(cityData, pageUrl),
    {
      "@type": "WebPage",
      "name": `Men√∫ Digital para Restaurantes en ${cityData.name}`,
      "description": cityData.description,
      "url": pageUrl
    }
  ]
};
---

<SeoLayout
  title={`Men√∫ Digital para Restaurantes en ${cityData.name} | MenuPro`}
  description={cityData.description}
  canonical={pageUrl}
  keywords={cityData.keywords}
  city={cityData.name}
  schema={schemas}
  ogType="website"
>
  <Hero
    title={`Men√∫ Digital para Restaurantes en ${cityData.name}`}
    subtitle="Crea y administra tu carta digital con QR de forma simple, sin reimpresiones ni terceros."
  />

  <!-- Secci√≥n Local Contextual -->
  <section class="py-16 px-6 max-w-5xl mx-auto">
    <FadeIn>
      <div class="bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-3xl p-8 md:p-12">
        <h2 class="text-2xl md:text-3xl font-semibold mb-6 text-center">
          MenuPro para restaurantes en {cityData.name}
        </h2>
        
        <div class="prose prose-lg dark:prose-invert max-w-none">
          <p class="text-muted text-center mb-8">
            {cityData.localContext}
          </p>

          <div class="grid md:grid-cols-2 gap-6 mt-8">
            <div class="bg-white dark:bg-neutral-900 rounded-2xl p-6 shadow-sm">
              <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                <span class="text-2xl">üçΩÔ∏è</span>
                Ideal para tu restaurante
              </h3>
              <p class="text-sm text-muted">
                Ya sea que tengas un restaurant en el centro de {cityData.name}, 
                una picada familiar o un caf√© con vista al r√≠o, MenuPro se adapta 
                a tu negocio. Sin complicaciones t√©cnicas.
              </p>
            </div>

            <div class="bg-white dark:bg-neutral-900 rounded-2xl p-6 shadow-sm">
              <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                <span class="text-2xl">üì±</span>
                Actualizaci√≥n en tiempo real
              </h3>
              <p class="text-sm text-muted">
                Cambia precios, agrega platos del d√≠a o actualiza disponibilidad 
                desde cualquier lugar. Tus clientes siempre ver√°n la carta m√°s reciente.
              </p>
            </div>

            <div class="bg-white dark:bg-neutral-900 rounded-2xl p-6 shadow-sm">
              <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                <span class="text-2xl">üí∞</span>
                Sin costos ocultos
              </h3>
              <p class="text-sm text-muted">
                Un solo pago mensual fijo. No hay comisiones por pedido, 
                ni sorpresas en la boleta. Transparencia total.
              </p>
            </div>

            <div class="bg-white dark:bg-neutral-900 rounded-2xl p-6 shadow-sm">
              <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                <span class="text-2xl">üéØ</span>
                Soporte local
              </h3>
              <p class="text-sm text-muted">
                Atenci√≥n en espa√±ol, horarios compatibles con Chile, 
                y entendimiento real de c√≥mo funciona la gastronom√≠a local.
              </p>
            </div>
          </div>

          {cityData.neighborhoods && cityData.neighborhoods.length > 0 && (
            <div class="mt-8 text-center">
              <p class="text-sm text-muted">
                <strong>Atendemos todo {cityData.name}:</strong> {cityData.neighborhoods.join(", ")}
              </p>
            </div>
          )}
        </div>
      </div>
    </FadeIn>
  </section>

  <Problems />
  <HowItWorks />
  <Benefits city={cityData.name} />
  <CTA city={cityData.name} />
</SeoLayout>
